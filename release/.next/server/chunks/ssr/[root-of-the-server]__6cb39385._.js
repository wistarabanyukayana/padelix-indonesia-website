module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},17537,a=>{a.n(a.i(3363))},2386,a=>{a.n(a.i(52854))},91306,a=>{a.n(a.i(31856))},37022,a=>{a.n(a.i(99382))},37637,a=>{a.n(a.i(5621))},59817,a=>{"use strict";var b=a.i(76925),c=a.i(61469),d=a.i(37137),e=a.i(18961),f=a.i(9307),g=a.i(26092);async function h(){await (0,f.checkPermission)(g.PERMISSIONS.VIEW_AUDIT_LOGS);let a=await c.db.select().from(d.auditLogs).orderBy((0,e.desc)(d.auditLogs.createdAt)).limit(100);return(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsx)("div",{className:"flex justify-between items-center",children:(0,b.jsx)("h1",{className:"h2 text-neutral-900",children:"Catatan Audit"})}),(0,b.jsxs)("div",{className:"bg-white rounded-brand shadow-sm border border-neutral-200 overflow-hidden",children:[(0,b.jsx)("div",{className:"block md:hidden divide-y divide-neutral-100",children:0===a.length?(0,b.jsx)("div",{className:"p-8 text-center text-neutral-400 italic",children:"Belum ada catatan audit."}):a.map(a=>(0,b.jsxs)("div",{className:"p-4 flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)("span",{className:`px-2 py-1 rounded-md font-bold uppercase tracking-tighter text-xs ${i(a.action)}`,children:a.action}),(0,b.jsx)("span",{className:"text-xs text-neutral-400 font-mono",children:new Date(a.createdAt).toLocaleString("id-ID")})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)("span",{className:"font-bold text-sm text-neutral-900",children:a.usernameSnapshot}),(0,b.jsx)("span",{className:"text-[10px] text-neutral-400 bg-neutral-100 px-1.5 rounded-full",children:a.userId?`ID: ${a.userId}`:"System"})]}),(0,b.jsx)("p",{className:"text-sm text-neutral-600 leading-relaxed break-words",children:a.details||"-"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-[10px] text-neutral-400 uppercase tracking-widest font-mono pt-2 border-t border-dashed border-neutral-100",children:[(0,b.jsxs)("span",{children:["Entity: ",a.entityId||"N/A"]}),(0,b.jsxs)("span",{children:["IP: ",a.ipAddress]})]})]},a.id))}),(0,b.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm text-neutral-600",children:[(0,b.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-4 font-bold text-neutral-900 uppercase tracking-wider text-xs",children:"Waktu"}),(0,b.jsx)("th",{className:"px-6 py-4 font-bold text-neutral-900 uppercase tracking-wider text-xs",children:"Pengguna"}),(0,b.jsx)("th",{className:"px-6 py-4 font-bold text-neutral-900 uppercase tracking-wider text-xs",children:"Aksi"}),(0,b.jsx)("th",{className:"px-6 py-4 font-bold text-neutral-900 uppercase tracking-wider text-xs",children:"ID Entitas"}),(0,b.jsx)("th",{className:"px-6 py-4 font-bold text-neutral-900 uppercase tracking-wider text-xs",children:"Detail"}),(0,b.jsx)("th",{className:"px-6 py-4 font-bold text-neutral-900 uppercase tracking-wider text-xs",children:"IP Address"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-neutral-100 font-mono text-[11px]",children:0===a.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-10 text-center text-neutral-400 italic",children:"Belum ada catatan audit."})}):a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-3 whitespace-nowrap",children:new Date(a.createdAt).toLocaleString("id-ID")}),(0,b.jsxs)("td",{className:"px-6 py-3",children:[(0,b.jsx)("span",{className:"font-bold text-neutral-900",children:a.usernameSnapshot}),(0,b.jsxs)("span",{className:"text-[10px] text-neutral-400 block",children:["ID: ",a.userId||"System"]})]}),(0,b.jsx)("td",{className:"px-6 py-3",children:(0,b.jsx)("span",{className:`px-2 py-0.5 rounded-full font-bold uppercase tracking-tighter ${i(a.action)}`,children:a.action})}),(0,b.jsx)("td",{className:"px-6 py-3",children:a.entityId||"-"}),(0,b.jsx)("td",{className:"px-6 py-3 max-w-xs truncate",title:a.details||"",children:a.details||"-"}),(0,b.jsx)("td",{className:"px-6 py-3 text-neutral-400",children:a.ipAddress})]},a.id))})]})})]})]})}function i(a){return a.includes("CREATE")?"bg-green-100 text-green-700":a.includes("UPDATE")?"bg-blue-100 text-blue-700":a.includes("DELETE")?"bg-red-100 text-red-700":a.includes("LOGIN_SUCCESS")?"bg-emerald-100 text-emerald-700":a.includes("LOGIN_FAILED")?"bg-orange-100 text-orange-700":"bg-neutral-100 text-neutral-600"}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6cb39385._.js.map